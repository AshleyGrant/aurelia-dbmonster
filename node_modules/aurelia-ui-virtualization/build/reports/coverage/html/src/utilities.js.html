<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/utilities.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">src/</a> utilities.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">95.83% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>46/48</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">80% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>8/10</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">85.71% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>6/7</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">95.83% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>46/48</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">118×</span>
<span class="cline-any cline-yes">118×</span>
<span class="cline-any cline-yes">118×</span>
<span class="cline-any cline-yes">118×</span>
<span class="cline-any cline-yes">118×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">360×</span>
<span class="cline-any cline-yes">360×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-yes">1557×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">360×</span>
<span class="cline-any cline-yes">360×</span>
<span class="cline-any cline-yes">360×</span>
<span class="cline-any cline-yes">360×</span>
<span class="cline-any cline-yes">360×</span>
<span class="cline-any cline-yes">312×</span>
<span class="cline-any cline-yes">312×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">48×</span>
<span class="cline-any cline-yes">48×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">238×</span>
<span class="cline-any cline-yes">238×</span>
<span class="cline-any cline-yes">238×</span>
<span class="cline-any cline-yes">238×</span>
<span class="cline-any cline-yes">238×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">5236×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
exports.__esModule = true;
exports.calcOuterHeight = calcOuterHeight;
exports.insertBeforeNode = insertBeforeNode;
exports.updateVirtualOverrideContexts = updateVirtualOverrideContexts;
exports.rebindAndMoveView = rebindAndMoveView;
exports.getStyleValue = getStyleValue;
exports.getElementDistanceToBottomViewPort = getElementDistanceToBottomViewPort;
exports.getElementDistanceToTopViewPort = getElementDistanceToTopViewPort;
&nbsp;
var _aureliaTemplatingResources = require('aurelia-templating-resources');
&nbsp;
var _aureliaTemplating = require('aurelia-templating');
&nbsp;
function calcOuterHeight(element) {
  var height = void 0;
  height = element.getBoundingClientRect().height;
  height += getStyleValue(element, 'marginTop');
  height += getStyleValue(element, 'marginBottom');
  return height;
}
&nbsp;
function insertBeforeNode(view, bottomBuffer) {
  var parentElement = bottomBuffer.parentElement || <span class="branch-1 cbranch-no" title="branch not covered" >bottomBuffer.parentNode;</span>
  parentElement.insertBefore(view.lastChild, bottomBuffer);
}
&nbsp;
/**
* Update the override context.
* @param startIndex index in collection where to start updating.
*/
function updateVirtualOverrideContexts(repeat, startIndex) {
  var views = repeat.viewSlot.children;
  var viewLength = views.length;
  var collectionLength = repeat.items.length;
&nbsp;
  <span class="missing-if-branch" title="if path not taken" >I</span>if (startIndex &gt; 0) {
<span class="cstat-no" title="statement not covered" >    startIndex = startIndex - 1;</span>
  }
&nbsp;
  var delta = repeat._topBufferHeight / repeat.itemHeight;
&nbsp;
  for (; startIndex &lt; viewLength; ++startIndex) {
    (0, _aureliaTemplatingResources.updateOverrideContext)(views[startIndex].overrideContext, startIndex + delta, collectionLength);
  }
}
&nbsp;
function rebindAndMoveView(repeat, view, index, moveToBottom) {
  var items = repeat.items;
  var viewSlot = repeat.viewSlot;
  (0, _aureliaTemplatingResources.updateOverrideContext)(view.overrideContext, index, items.length);
  view.bindingContext[repeat.local] = items[index];
  if (moveToBottom) {
    viewSlot.children.push(viewSlot.children.shift());
    repeat.templateStrategy.moveViewLast(view, repeat.bottomBuffer);
  } else {
    viewSlot.children.unshift(viewSlot.children.splice(-1, 1)[0]);
    repeat.templateStrategy.moveViewFirst(view, repeat.topBuffer);
  }
}
&nbsp;
function getStyleValue(element, style) {
  var currentStyle = void 0;
  var styleValue = void 0;
  currentStyle = element.currentStyle || window.getComputedStyle(element);
  styleValue = parseInt(currentStyle[style], 10);
  return Number.isNaN(styleValue) ? 0 : styleValue;
}
&nbsp;
function getElementDistanceToBottomViewPort(element) {
  return document.documentElement.clientHeight - element.getBoundingClientRect().bottom;
}
&nbsp;
<span class="fstat-no" title="function not covered" >function getElementDistanceToTopViewPort(element) {</span>
<span class="cstat-no" title="statement not covered" >  return element.getBoundingClientRect().top;</span>
}
//# sourceMappingURL=data:application/json;base64,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QyxPQUF6QyxFQUFtRTtBQUN4RSxTQUFPLFFBQVEscUJBQVIsR0FBZ0MsR0FBdkM7QUFDRCIsImZpbGUiOiJ1dGlsaXRpZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3VwZGF0ZU92ZXJyaWRlQ29udGV4dH0gZnJvbSAnYXVyZWxpYS10ZW1wbGF0aW5nLXJlc291cmNlcyc7XG5pbXBvcnQge1ZpZXd9IGZyb20gJ2F1cmVsaWEtdGVtcGxhdGluZyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjT3V0ZXJIZWlnaHQoZWxlbWVudDogRWxlbWVudCk6IG51bWJlciB7XG4gIGxldCBoZWlnaHQ7XG4gIGhlaWdodCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICBoZWlnaHQgKz0gZ2V0U3R5bGVWYWx1ZShlbGVtZW50LCAnbWFyZ2luVG9wJyk7XG4gIGhlaWdodCArPSBnZXRTdHlsZVZhbHVlKGVsZW1lbnQsICdtYXJnaW5Cb3R0b20nKTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEJlZm9yZU5vZGUodmlldzogVmlldywgYm90dG9tQnVmZmVyOiBudW1iZXIpOiB2b2lkIHtcbiAgbGV0IHBhcmVudEVsZW1lbnQgPSBib3R0b21CdWZmZXIucGFyZW50RWxlbWVudCB8fCBib3R0b21CdWZmZXIucGFyZW50Tm9kZTtcbiAgcGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodmlldy5sYXN0Q2hpbGQsIGJvdHRvbUJ1ZmZlcik7XG59XG5cbi8qKlxuKiBVcGRhdGUgdGhlIG92ZXJyaWRlIGNvbnRleHQuXG4qIEBwYXJhbSBzdGFydEluZGV4IGluZGV4IGluIGNvbGxlY3Rpb24gd2hlcmUgdG8gc3RhcnQgdXBkYXRpbmcuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVZpcnR1YWxPdmVycmlkZUNvbnRleHRzKHJlcGVhdDogVmlydHVhbFJlcGVhdCwgc3RhcnRJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gIGxldCB2aWV3cyA9IHJlcGVhdC52aWV3U2xvdC5jaGlsZHJlbjtcbiAgbGV0IHZpZXdMZW5ndGggPSB2aWV3cy5sZW5ndGg7XG4gIGxldCBjb2xsZWN0aW9uTGVuZ3RoID0gcmVwZWF0Lml0ZW1zLmxlbmd0aDtcblxuICBpZiAoc3RhcnRJbmRleCA+IDApIHtcbiAgICBzdGFydEluZGV4ID0gc3RhcnRJbmRleCAtIDE7XG4gIH1cblxuICBsZXQgZGVsdGEgPSByZXBlYXQuX3RvcEJ1ZmZlckhlaWdodCAvIHJlcGVhdC5pdGVtSGVpZ2h0O1xuXG4gIGZvciAoOyBzdGFydEluZGV4IDwgdmlld0xlbmd0aDsgKytzdGFydEluZGV4KSB7XG4gICAgdXBkYXRlT3ZlcnJpZGVDb250ZXh0KHZpZXdzW3N0YXJ0SW5kZXhdLm92ZXJyaWRlQ29udGV4dCwgc3RhcnRJbmRleCArIGRlbHRhLCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmViaW5kQW5kTW92ZVZpZXcocmVwZWF0OiBWaXJ0dWFsUmVwZWF0LCB2aWV3OiBWaWV3LCBpbmRleDogbnVtYmVyLCBtb3ZlVG9Cb3R0b206IGJvb2xlYW4pOiB2b2lkIHtcbiAgbGV0IGl0ZW1zID0gcmVwZWF0Lml0ZW1zO1xuICBsZXQgdmlld1Nsb3QgPSByZXBlYXQudmlld1Nsb3Q7XG4gIHVwZGF0ZU92ZXJyaWRlQ29udGV4dCh2aWV3Lm92ZXJyaWRlQ29udGV4dCwgaW5kZXgsIGl0ZW1zLmxlbmd0aCk7XG4gIHZpZXcuYmluZGluZ0NvbnRleHRbcmVwZWF0LmxvY2FsXSA9IGl0ZW1zW2luZGV4XTtcbiAgaWYgKG1vdmVUb0JvdHRvbSkge1xuICAgIHZpZXdTbG90LmNoaWxkcmVuLnB1c2godmlld1Nsb3QuY2hpbGRyZW4uc2hpZnQoKSk7XG4gICAgcmVwZWF0LnRlbXBsYXRlU3RyYXRlZ3kubW92ZVZpZXdMYXN0KHZpZXcsIHJlcGVhdC5ib3R0b21CdWZmZXIpO1xuICB9IGVsc2Uge1xuICAgIHZpZXdTbG90LmNoaWxkcmVuLnVuc2hpZnQodmlld1Nsb3QuY2hpbGRyZW4uc3BsaWNlKC0xLCAxKVswXSk7XG4gICAgcmVwZWF0LnRlbXBsYXRlU3RyYXRlZ3kubW92ZVZpZXdGaXJzdCh2aWV3LCByZXBlYXQudG9wQnVmZmVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGVWYWx1ZShlbGVtZW50OiBFbGVtZW50LCBzdHlsZTogc3RyaW5nKTogYW55IHtcbiAgbGV0IGN1cnJlbnRTdHlsZTtcbiAgbGV0IHN0eWxlVmFsdWU7XG4gIGN1cnJlbnRTdHlsZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlIHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICBzdHlsZVZhbHVlID0gcGFyc2VJbnQoY3VycmVudFN0eWxlW3N0eWxlXSwgMTApO1xuICByZXR1cm4gTnVtYmVyLmlzTmFOKHN0eWxlVmFsdWUpID8gMCA6IHN0eWxlVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RGlzdGFuY2VUb0JvdHRvbVZpZXdQb3J0KGVsZW1lbnQ6IEVsZW1lbnQpOiBudW1iZXIge1xuICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpc3RhbmNlVG9Ub3BWaWV3UG9ydChlbGVtZW50OiBFbGVtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xufVxuIl19</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Aug 31 2016 09:48:46 GMT-0400 (EDT)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
